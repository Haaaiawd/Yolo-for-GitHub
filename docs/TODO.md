# TODO: 基于YOLOv11的弱小目标检测

**最后更新日期:** 2024-10-16

这是一个根据项目文档分解的任务清单。我们将按照这个清单顺序执行。

---

## 阶段一: 项目初始化与环境设置 (Setup)

- [x] **任务 1.1**: 调研并确认 YOLOv11 模型的可行性。 (已完成)
- [x] **任务 1.2**: 创建项目章程 `Project_Charter.md`。 (已完成)
- [x] **任务 1.3**: 创建功能规格说明 `Functional_Spec.md`。 (已完成)
- [x] **任务 1.4**: 创建技术规格说明 `Technical_Spec.md`。 (已完成)
- [x] **任务 1.5**: 创建此 `TODO.md` 任务清单。 (已完成)
- [ ] **任务 1.6**: 初始化项目结构，创建 `configs`, `scripts` 等目录。
- [ ] **任务 1.7**: 根据 `Technical_Spec.md`，使用`pnpm`安装 `ultralytics` 及其所有依赖。
- [ ] **任务 1.8**: 下载预训练的 `yolo11n.pt` 模型权重文件，并放置在项目根目录。

---

## 阶段二: 数据准备与分析 (Data Preparation)

- [ ] **任务 2.1**: 分析 `datasets` 目录下的 `tiaozhanbei_datasets_1` 和 `tiaozhanbei_datasets_final`。
    - [ ] **子任务 2.1.1**: 编写或使用现有脚本，统计两个数据集的图像数量、类别分布。
    - [ ] **子任务 2.1.2**: 确认两个数据集的标签格式是否一致且正确。
    - [ ] **子任务 2.1.3**: 做出最终决定，选择 `tiaozhanbei_datasets_final` 作为基准数据集。
- [ ] **任务 2.2**: 根据分析结果，创建最终的数据集配置文件 `configs/tiaozhanbei_final.yaml`。
    - [ ] **子任务 2.2.1**: 在配置文件中正确设置 `path`, `train`, `val` 字段。
    - [ ] **子任务 2.2.2**: 从数据集的 `class.json` 或类似文件中提取类别名称，并填入 `names` 字段。

---

## 阶段三: 模型训练与验证 (Training & Validation)

- [ ] **任务 3.1**: **冒烟测试 (Smoke Test)**: 进行一次快速的训练测试，以验证整个流程。
    - [ ] **子任务 3.1.1**: 使用 `yolo11n.pt` 模型和 `configs/tiaozhanbei_final.yaml` 配置文件。
    - [ ] **子任务 3.1.2**: 设置 `epochs=3`, `batch=4`, `imgsz=320` 等参数以实现快速训练。
    - [ ] **子任务 3.1.3**: 确认训练能够正常开始和结束，并在 `runs/train/` 目录下生成结果。
- [ ] **任务 3.2**: **初步正式训练 (Baseline Training)**
    - [ ] **子任务 3.2.1**: 使用 `yolo11n.pt` 进行训练，设置 `epochs=50`, `imgsz=640`。
    - [ ] **子任务 3.2.2**: 监控训练过程，观察损失曲线是否正常收敛。
- [ ] **任务 3.3**: **模型验证 (Validation)**
    - [ ] **子任务 3.3.1**: 使用训练好的 `best.pt` 模型，在验证集上运行验证脚本。
    - [ ] **子任务 3.3.2**: 记录下基线模型的 mAP50 和 mAP50-95 指标。

---

## 阶段四: 推理与评估 (Inference & Evaluation)

- [ ] **任务 4.1**: **推理测试 (Prediction Test)**
    - [ ] **子任务 4.1.1**: 从验证集中挑选几张有代表性的图片。
    - [ ] **子任务 4.1.2**: 使用 `predict` 功能对这些图片进行推理。
    - [ ] **子任务 4.1.3**: 检查生成的标注图片，直观评估检测效果是否符合预期。
- [ ] **任务 4.2**: **创建性能报告 (Performance Report)**
    - [ ] **子任务 4.2.1**: 创建一个 `Performance_Report.md` 文件。
    - [ ] **子任务 4.2.2**: 将验证阶段获得的性能指标（mAP等）和推理速度记录在报告中。

---

## 阶段五: 迭代与优化 (Iteration & Optimization) - (可选，根据初步结果决定)

- [ ] **任务 5.1**: 尝试使用更大的模型（如 `yolo11s.pt`）进行训练，以寻求更高的精度。
- [ ] **任务 5.2**: 调整训练超参数（如学习率、数据增强策略）以优化模型性能。
- [ ] **任务 5.3**: 对比不同模型和策略的性能，更新 `Performance_Report.md`。

--- 